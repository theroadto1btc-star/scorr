<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SCORR - VV Monnickendam Scheidsrechter</title>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        button {
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
            -webkit-appearance: none;
            appearance: none;
            font-family: inherit;
        }

        html, body {
            height: 100%;
            overflow: hidden;
        }

        body {
            font-family: 'Lexend', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0A0E27;
            height: 100dvh;
            display: flex;
            flex-direction: column;
        }

        /* ===== APP SHELL ===== */
        .app-shell {
            max-width: 500px;
            width: 100%;
            margin: 0 auto;
            height: 100dvh;
            display: flex;
            flex-direction: column;
            background: linear-gradient(180deg, #0A0E27 0%, #1E2749 100%);
            position: relative;
            overflow: hidden;
        }

        /* ===== HEADER BAR ===== */
        .header-bar {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px 16px;
            background: #0A0E27;
            flex-shrink: 0;
            gap: 8px;
            position: relative;
            border-bottom: 3px solid #00FF88;
        }

        .header-bar .logo-text {
            font-size: 18px;
            font-weight: 900;
            letter-spacing: -0.5px;
            background: linear-gradient(135deg, #00FF88 0%, #00DDFF 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header-bar .club-badge {
            width: 34px;
            height: 34px;
            filter: drop-shadow(0 1px 3px rgba(0,0,0,0.3));
            border-radius: 4px;
        }

        .header-bar .share-btn {
            position: absolute;
            right: 12px;
            width: 36px;
            height: 36px;
            background: #1E2749;
            color: #00FF88;
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 50%;
            font-size: 16px;
            cursor: pointer;
        }
        .header-bar .share-btn:active {
            background: #2A3460;
        }

        /* ===== SCORE PANEL ===== */
        .score-panel {
            padding: 12px 20px 8px;
            flex-shrink: 0;
        }

        .teams-row {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            align-items: center;
            gap: 8px;
        }

        .team-col {
            text-align: center;
        }

        .team-name-input {
            width: 100%;
            background: transparent;
            border: none;
            border-bottom: 1px solid rgba(0, 255, 136, 0.25);
            color: white;
            font-family: inherit;
            font-size: 13px;
            font-weight: 700;
            text-align: center;
            padding: 4px 2px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .team-name-input:focus {
            outline: none;
            border-bottom-color: #00FF88;
        }
        .team-name-input::placeholder {
            color: rgba(255,255,255,0.4);
        }

        .score-number {
            font-size: 72px;
            font-weight: 900;
            color: white;
            line-height: 1;
            margin: 4px 0;
            cursor: pointer;
            user-select: none;
            text-shadow: 0 2px 12px rgba(0,0,0,0.3);
        }

        .score-btns {
            display: flex;
            gap: 8px;
            justify-content: center;
        }

        .score-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: none;
            font-size: 20px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .score-btn.plus {
            background: #00FF88;
            color: #0A0E27;
        }
        .score-btn.plus:active {
            background: #00DD77;
            transform: scale(0.92);
        }
        .score-btn.minus {
            background: #1E2749;
            color: rgba(255,255,255,0.7);
        }
        .score-btn.minus:active {
            background: #2A3460;
            transform: scale(0.92);
        }

        .score-separator {
            font-size: 40px;
            font-weight: 900;
            color: #00FF88;
            padding-top: 28px;
        }

        /* ===== TIMER STRIP ===== */
        .timer-strip {
            padding: 8px 20px;
            text-align: center;
            flex-shrink: 0;
            background: rgba(0,0,0,0.15);
            border-top: 1px solid rgba(0, 255, 136, 0.15);
            border-bottom: 1px solid rgba(0, 255, 136, 0.15);
        }

        .timer-meta {
            font-size: 11px;
            font-weight: 600;
            color: rgba(255,255,255,0.5);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 2px;
        }

        .timer-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .timer-display {
            font-size: 48px;
            font-weight: 900;
            font-family: 'Courier New', monospace;
            color: #00FF88;
            letter-spacing: 3px;
            line-height: 1.1;
            text-shadow: 0 2px 16px rgba(0, 255, 136, 0.3);
        }

        .timer-controls-inline {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .timer-btn-small {
            width: 40px;
            height: 32px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }
        .timer-btn-small.play {
            background: #00FF88;
            color: #0A0E27;
        }
        .timer-btn-small.play:active { background: #00DD77; }
        .timer-btn-small.pause {
            background: #1E2749;
            color: #00FF88;
            border: 1px solid rgba(0, 255, 136, 0.3);
        }
        .timer-btn-small.pause:active { background: #2A3460; }

        .timer-sub-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            margin-top: 4px;
        }

        .setting-inline {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 11px;
            color: rgba(255,255,255,0.5);
            font-weight: 600;
        }

        .setting-inline .adj-btn {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 1px solid rgba(0, 255, 136, 0.3);
            background: rgba(0, 255, 136, 0.08);
            color: #00FF88;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .setting-inline .adj-btn:active {
            background: rgba(255,255,255,0.1);
        }

        .setting-inline .val {
            min-width: 32px;
            text-align: center;
            color: rgba(255,255,255,0.7);
            font-weight: 700;
        }

        /* ===== NEXT HALF BUTTON ===== */
        .next-half-bar {
            padding: 8px 20px;
            flex-shrink: 0;
        }

        .next-half-btn {
            width: 100%;
            padding: 12px;
            background: #FF3D71;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            box-shadow: 0 4px 16px rgba(0,0,0,0.2);
        }
        .next-half-btn:active {
            transform: scale(0.98);
            background: #E6345E;
        }

        /* ===== EVENTS TIMELINE ===== */
        .events-area {
            flex: 1;
            overflow-y: auto;
            padding: 12px 20px;
            -webkit-overflow-scrolling: touch;
            min-height: 0;
        }

        .events-area::-webkit-scrollbar {
            width: 3px;
        }
        .events-area::-webkit-scrollbar-thumb {
            background: #00FF88;
            border-radius: 3px;
        }

        .event-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.08);
            position: relative;
        }
        .event-item:last-child {
            border-bottom: none;
        }

        .event-minute {
            font-size: 13px;
            font-weight: 700;
            color: #00FF88;
            min-width: 30px;
            text-align: right;
            padding-top: 1px;
        }

        .event-text {
            font-size: 13px;
            color: rgba(255,255,255,0.8);
            line-height: 1.4;
            flex: 1;
        }

        .event-item.event-goal .event-minute { color: #00FF88; }
        .event-item.event-yellow .event-minute { color: #FFB800; }
        .event-item.event-red .event-minute { color: #FF3D71; }
        .event-item.event-half .event-minute,
        .event-item.event-end .event-minute { color: rgba(255,255,255,0.4); }
        .event-item.event-half .event-text,
        .event-item.event-end .event-text { color: rgba(255,255,255,0.5); font-style: italic; }

        .event-delete {
            background: none;
            border: none;
            color: rgba(255,255,255,0.2);
            font-size: 14px;
            cursor: pointer;
            padding: 2px 4px;
        }
        .event-delete:active {
            color: #FF3D71;
        }

        .no-events {
            text-align: center;
            color: rgba(255,255,255,0.25);
            padding: 20px;
            font-size: 13px;
            font-style: italic;
        }

        /* ===== BOTTOM TOOLBAR ===== */
        .bottom-toolbar {
            display: flex;
            align-items: center;
            justify-content: space-around;
            padding: 10px 16px;
            padding-bottom: calc(10px + env(safe-area-inset-bottom, 0px));
            background: #0A0E27;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            flex-shrink: 0;
            border-top: 2px solid #00FF88;
        }

        .toolbar-btn {
            width: 52px;
            height: 52px;
            border: none;
            border-radius: 12px;
            font-size: 22px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #1E2749;
            color: white;
            transition: transform 0.1s;
            position: relative;
        }
        .toolbar-btn:active {
            transform: scale(0.9);
        }

        .toolbar-btn.yellow-card {
            background: rgba(255, 184, 0, 0.2);
            color: #FFB800;
            border: 2px solid rgba(255, 184, 0, 0.3);
        }
        .toolbar-btn.red-card {
            background: rgba(255, 61, 113, 0.2);
            color: #FF3D71;
            border: 2px solid rgba(255, 61, 113, 0.3);
        }
        .toolbar-btn.download-btn {
            background: rgba(0, 255, 136, 0.15);
            color: #00FF88;
            border: 2px solid rgba(0, 255, 136, 0.3);
        }

        .toolbar-btn .btn-label {
            position: absolute;
            bottom: -1px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 8px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            white-space: nowrap;
            opacity: 0.7;
        }

        /* ===== MODAL ===== */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.85);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal-content {
            background: white;
            padding: 24px;
            border-radius: 16px;
            max-width: 380px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            border-top: 4px solid #00FF88;
        }

        .modal-content h3 {
            color: #0A0E27;
            margin-bottom: 16px;
            font-size: 20px;
            font-weight: 700;
            text-align: center;
        }

        .team-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 16px;
        }

        .team-select-btn {
            flex: 1;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            background: white;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            color: #666;
            font-family: inherit;
        }
        .team-select-btn.selected {
            background: #00FF88;
            border-color: #0A0E27;
            color: #0A0E27;
        }

        .number-grid-label {
            font-weight: 700;
            color: #0A0E27;
            margin-bottom: 8px;
            font-size: 13px;
        }

        .number-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 6px;
            margin-bottom: 10px;
        }

        .number-btn {
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            background: white;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            color: #666;
            font-family: inherit;
        }
        .number-btn.selected {
            background: #00FF88;
            border-color: #0A0E27;
            color: #0A0E27;
        }

        .custom-number-container {
            margin-bottom: 10px;
        }

        .custom-number-container label {
            font-size: 12px;
            font-weight: 600;
            color: #666;
            margin-bottom: 4px;
            display: block;
        }

        .custom-number-container input {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 700;
            text-align: center;
            font-family: inherit;
        }
        .custom-number-container input:focus {
            outline: none;
            border-color: #00FF88;
        }

        .player-name-input {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            font-family: inherit;
        }
        .player-name-input:focus {
            outline: none;
            border-color: #00FF88;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
        }
        .modal-buttons button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            font-family: inherit;
        }
        .btn-cancel {
            background: #666;
            color: white;
        }
        .btn-confirm {
            background: #00FF88;
            color: #0A0E27;
        }

        /* Flash animation for timer */
        @keyframes flash {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        /* Wake lock indicator */
        #wakeLockStatus {
            font-size: 10px;
            color: rgba(0, 255, 136, 0.5);
            margin-top: 2px;
        }

        /* Hide team dropdown (used for older code compat) */
        #teamDropdownContainer { display: none !important; }

        /* Print styles */
        @media print {
            body { background: white; }
        }
    </style>
</head>
<body>
    <div class="app-shell">
        <!-- HEADER -->
        <div class="header-bar">
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAABAGlDQ1BpY2MAABiVY2BgPMEABCwGDAy5eSVFQe5OChGRUQrsDxgYgRAMEpOLCxhwA6Cqb9cgai/r4lGHC3CmpBYnA+kPQKxSBLQcaKQIkC2SDmFrgNhJELYNiF1eUlACZAeA2EUhQc5AdgqQrZGOxE5CYicXFIHU9wDZNrk5pckIdzPwpOaFBgNpDiCWYShmCGJwZ3AC+R+iJH8RA4PFVwYG5gkIsaSZDAzbWxkYJG4hxFQWMDDwtzAwbDuPEEOESUFiUSJYiAWImdLSGBg+LWdg4I1kYBC+wMDAFQ0LCBxuUwC7zZ0hHwjTGXIYUoEingx5DMkMekCWEYMBgyGDGQCm1j8/yRb+6wAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH6gIZCwQ1ElA39wAAH7NJREFUeNrtfHmYXld53+99z7n3fussGmlmtI40QpI3qPGKwXHi4GCzJSSQjSwNaUoanmyQNGmWJy1JS0vSlJYmhIeEkJAFY6dlyWJIAjZYNoZiY2PJi3ZZI2lGI2mWb733nPO+/ePe75uxsWMJaYbgJ+ePeaT73e387rtvwL+sc17mvM5OkiSKIu+9MaZcLltriUhEoihKksR7n59WqVSIKIRQKpWstfnxSqVaq9W99yJSLpeZOYRgrU2ShJnz2zJzuVwGUCqVnHPGmMHBQWttCKFcLjvn8gdFUTQ4OBjHMYD81/xCVR0YGKxUqqqaP5SIqtVq/m9mrlarzjkAtVothKCqKwIWEQGYmJiYnJw8fvz4hg0bduzYMTQ0NDQ0NDs7e8kll4yNjU1PTwMwxtxwww2lUml2dvbqq68eHR09ceLE9u07Lrvs8jXDI1smtpw+Pbt9+/aJiYmpqamRkZGdO3fGcXzppZdOTU2Vy+Urr7ySmScmJs6cOXPNNdds2LBhdHS0Uqls2bJlZmbmuuuuK5VKmzZtWr9+vTFmaGho165d/QsBuuKKlwwMDG7bNpmm3WazOTo6esMNN7RarUajMTY2du21187MzFhrb7zxxvzgeYHF53he/hGmp2cqlVqlUhkbW3/69Jljx6bWrh2N42RkZN3JkzP5meVy2dp4cHBoaGi4VhuIonhgYGhiYuKxx/be/4V7G43Grl2XOOdHRtbu2LFLRImMCKrV+hVXvISIVYnZhqCTky9Spd27dz/wwANzc3PWRldeeVWz2dq370AUJSdOTB8+fNQ5X6vVr7jixcxGBNZGjcXFBx6478iRIzt27AJofHzDiRPTY2PjAKrVmrXxunWj69aNWhvVagMry4bOuaGh4dHRsXK5fODAwYWFxfXr169ZMwJg//59OaBr1qyp1epZ5sbGxtrtNoAQQr1eP3ToQAghjuOhoWERnZubHxwcHBoads6JSLfbNcaMjY2LSKfTyXltYWHh9OlZVY3jeMOGjZVK5ciRI4uLC5s2bR4YGLDWGmO63a61dnR0LITQ7XbL5fKJE8cBjI2NNxqNjRs3HTlyZP36DWfOnFm3bjTLsmq1WqvVGo1GFEXT0ydXhLL6a2rq2Pj4eKOx2Go1AJmZmdm0adPMzIxIIGIAw8PDrVZrdnZ23bp1U1NTRCAiEZ2Y2Fap1DZv3jI/P09EaZo++uhX16xZY61lZlV95JFHqtVqqVTK5cvc3NzGjRvXrl07Ojo6PDzc7Xb27Nlz+eVXbNiwiYiOHj26b98+Y6yIPPLIw7VarVQqqcJaWy5XJye3t1qtoaHhcrm8bdu2OI43b95Sq9WPH58yxsRxPDU1Va/XjbErSFkAut1uvV6fmjqWU02WpdVq5dChg957IgAYGRlptZqnT8/W6/UDB/bV6wPNZvP48WMTExMbN25otRqPP/7Y4OCgc+ns7GyaptbaVqvJTLOzpxqNRqVSWViYi6Jo//4ny+XSxMTE4OBgo9Ewxhw8uN+5bHx8PE3T8fHxNWvWpGnbez87e6rRWKxWK2fPnh4ZGRkfHwd07969o6Prjh+fevzxx1qt1tq1IyL+6NGj1ppOp3PixPG1a9eeOjUTQlhZDUpEubxfLvu/9ldmXv5fIjKm+DbMT7+clm5CTESUX5vfZPnd8vOZjbWRMWb5m+QnGGP6T1n+Yv37LH+ffzGGVpJKzvEkPbez9TnOedbjzzi4/L+6WpvXiw7W0qkGL6SlCsh5nH+u6oCJWcXePBk2V5EFrCTDE1GtXCbQSsKkphS5h04u3HcYTCp6McECVIBsOJaxErys1EY0B4tDpbaCAlgBVUosqtF5XWfP+f6qgPGKoBxZJegKCBZSKJSIYVeQ4QmU70dD6AnKcxJf9nyeUSwhggUMX/RtaC5IiCliIlohMa9eoACTgnA+Mt6e96MIUKEkxlAZohefHxUg0riyImJRQQQ926HUM5HgnInq6wQLSqoF36+Eii8MVCWoXvx7g0CBwF8X2doLfbxe5O+/7AMQVC+iTuzf+eu+o70Ib3Fx4dJnkPESpzzjL57t4HP+pOdvg37NuvhC+nnB0EIVqRbQ6PMxTk7COWkoNOdQRU9gfu3f5zp4gcuuOlJE2qcX1dylVX1eca6kOcsX12rvyCq6w7zqSClIDGA1V3tEKkr0nORV0CFYSEnBagEDURJSUtJVciNXnbIIqmBS4RCQkxIbVRio9oTKs5EUSFWDEVKbOc1IDJAwc5+BFatDX6sGlqoSEamnqvWXjJiKMQea7mRTLEWBC733tQSWEx0RgkQc3KVD2FziU573nXUdMjFICnt8NfjRrhJSICYVweaye/OlA1tKTkAuJHdPh795KgC5uZ6b1MvxytkWolTR7Lt2lq4ehlFWEw4vVP70YKvhI5uzMa0Gda24zMrVXa7LmOSNL6psKblm5juZioTXbzSv2WLU+SJ6+Uy+BYGECN5/92R8/QhnPmuE0E7DzkG5ebyUBk/KBW2t/DdfeQGvAMFAVez6st1UkbYTZmvIOTYLmb56A18/ZiVT/hqbXUmUTJbyzZv5mrWmnXZA1hKYTMfr1joqxmRkQP4iGFH/LMAiQCFEgBcRDyaAVIVMJAjGpwFvnIy31UPwyowlAlNlMt3MvXStv21jqeO8ctxj6vzVNRBbdQqzOiYErzxWqkSKQEynOjjRDglHigAwIJGwCmLyP7izVo+8CBjKBRiUOWyo4U3bYg1BlsW3FBpbHG2F4ByISQnoGW/f9GwIKKxVCaC7jriMAohJAagQiJAFHiv775+scnCBk9wWC8KJzX5oslwzlKkaCOWyT5GwnuzIPx5XtkYghPACYUMlIlWCODJssX+BPnbEVzn2pLkSExIi7jp31Rq8biJG1gYzwZDP3rgt2VL1nRCYSGFAqiADzSi+/aCczSgiYlWBIai+ALQh9f+AVNRYs3va33sqDFgKSlyQgzDZpve3bLRXjVnnQ9fpt24sv2wNLwYwEUFJ1RMrfBTZu4529jVQtqSqxRZWxS5dFXeHVHO3BiQcDJk7n2o9ucA1IxkMgUiFVAHOAt68LdpUlsuG9LWbue1DpEpaqAgOvhqZ+06Fz02HcsS5nQtSIlH6Jzymby6wkLMiEVSVwfA++fCB9qyPy9SLPhBZCETZuB/bVf3+rbGnjsKYnucsqmVrH29Gf3s446hiJAQiUlWQFr7lC0DA9/HKfRIlAYzVuQ79+f5OahUEgWEhTwCH4OKRUlaPvbpIST0RqwRwicNZr3fs76awiTpd4m48mz37zQ1WEVFRElUKoiaODs75jx/QkjWsPrAaZSiDQxD2wkpgVaPwFDFnnuLbD3ZmM4kMBVIlZl0l7vsGgEUo0CJSEIIGE8X3z/jPngg2iVVFQX0DgAojUwMrS6hw8skjbu9CVIpYVAsbgkCrGJ9ZXcpCjhYURJqrfGVrPnm4u2fOVS2rPj0DolBiEVQS+YcZuXfG16wlb0GqpEoBSliBpMY3Gqxcgmv/kcRkCJEBCBJM/JF9/kSLbSSiPTNdAYKIViN98Cz97VEXRxHUM3moARGDqU+uq8WJqwGWkmq+KShBJYTgXZDgnQaBYW1l5oMHWh1nYlLfq9fxgrLFkaa9c79jIgN4paaHSuh6dBREotpj7lUBa8XjWXmsvCAVIvXYVddrN3A10ulGuHvaLHofx5hplf9if/ctl1arnLnApFKP+FQWfWR/o0lRjajjZaDkv30s3lAz86l+4aQ70LYVlqAMEirypyu7zr20GwDo0rU6EhMREoNShFwmP9875mcwsXi5ap1/6yWlzRUdSczO4eTyIew5q01nIqvTbT3SCCMVqkXEXDrUwu0HuydSWzVoCW2syNt2DFw2EuqRbqrJS9fEx5rZbJcsG0BwLuE/AuUmX9dTUCLSw3Pp4bPnrlFXK6xMFICyldsmqgLXcnFMndTxWDn61zvM+/ZmKYhj3rco+/fIaEWrUXa6QwFR2SALbpj9j24fGKx0Gi7EYpqIa3H6ivVm32JQkiJDtvKpntUzSiFhKOE1LF4Qk3Mcx6Qt57cPmDdOWjiCsDFMrDNtnm0bshobryIq/KbJ0oZS6HgkGnmDmLyXaNBGJSaByGpVh64SWHkovem0qQIiBVkJnowltDN/w1hy80YrLihDlS0Ha/NMl2kHuXWTvWLENkOIlAOBlQVqoS3vMiGrXOQP9YUClkKZTSPjR8+gxuQKHZYnMshl4Tu30qVrVDK1sIHUk0YSdTN56QjdslFTl0dpkNekCAwZfmxesiJGKquzi1UAiwBVYhKF0buecoc6qBioGhSJZQqkFPADL6qMJcFBYuVIqEEyUZLv3p54yelSQVCCB5Ut7V+QL82aivG5H57HNb7pwertQAOUidoBf7kv7QiipR8VhEx1OPJv3lFK0A3QANSRfe+O0gB7kV4RkkIVJZI5p3ceTIMKESnyQM0LIgaPfrCUSFStMVNN89EDKWISKoxKUmVCx9GOQXz3ZOKDZAFv2BZvrYXU5TF2VVhSWMCzvfNANuWstVKkZnWVUtKrYTpQgRdAEIWJ8ZUzNHbUvXqr6aYSKQcmQA1pw8u3jMZTTVeL6Pp1tumczavOlEABEI7LnzjcfXSBByLxutR0sToya5XsrDyEAJBCVIksfeqYH62Yl62Jmt4z8vS9slLXuTdMmNhwmjlDRRSCCEGRJPb+Gbf7pK9FVpQYvcDDahXSrGIVTR4pLcxlhYnv3O/2t1G2EAEVDgtJnjxTCPIcFxFIRMvW7F/UTx52JrK5nCqCWavYgrPKxWxFKacChrSj+PN93XkXW0OSh+mXEWKOqpKKqjV0OuM792cebPPYuyphFYnqGwEWcvVPeZbVRrMt+rODHWEyAJRIl8OV1yjBkArxHYeyaWetWZLm2rdD9QUUokE/06qqUFIQsQGpik2w70z4xOFgY0sanmYrKZSIBDYyf300fWJeqgaAMnGvTFRJiy6DFw5YOUAKUgKDiUlCGlxbNQgZTuy9J2X3CZ+UrIguC/6piCYJf+Gk3DODSkwgziQ0fVdUDHMutlaz/I9XBaliQ0ZZ1Um3s7W+8arRSwa5Ip2GVbDBxw/7J876WkJBWREEIQgNRLRvwX/8qK+YKCAstFujyeB1w5MRksVOW42ygJQI4XkLeS/KsisNVS8JQYY1iBtA5X23/uwbdt2ccDTdmv3NL/7FHz7yCVuJndo/25f+0M7y5UMEUGQNg/fO00cOdpUSZe9T/Oa1P/LWK18/mFQOL878p/v/5M6D9wyU6+ThjSkyrivMjisZ/MsLWwggsDJIOKWPvPad33fJzQxiUD2pfef2l7dcuvvIA3E5bnv78Jnu8aY2Mz7Rju6dDn93Iu2ojY120s4f3fT2t131hhJHIB5J6t+z46YzzcY9J/dUS0luuj1/8vCCg38rBlYvVcUAQJY5tJu/e+PPvOUlt2U+M2xBUFUVvGrbNU+ePvXI9J4kSbzyyZbuXdDHm+ZkB5ZtYvh0u/nOa3/8bVd9l/OeCcwqqgDduvWavacOP3h2Xz2qiMrz09UFg7WyMiuvm2JrXHv+x1/8PW+//vuCD5GN8vpHw4YYpPSB17z9ZetfmnZaxjBbspZqlsqWIkOn2/M/uuNVv3r9DwQRawwRQ9mwAdQwf/CWd1w7dNm8a1g2WjQS/PMQ8Of1HjlZKZStDa3FV2y69n/f8rNeAaY+KaoqEweVuq3e/trf2FLb6F0XxKIQBZNZ7LZevvby//XKn4bmkrxvfSkTewmD5fqHXv3vN9o13ZAZ4iIt+Q0Ha5mxTMuaRJ6bprQI+IWss6W+6cOv+bWKSUiFiIsuOSocP0PkJUwMrv+z1/x6WRORQARiTn1nrLT2g7f9h6Go7FU5L0/qsb1CLRkXwuXDm9//Hb8IhwBhNVpUAZ6/JloxNnx+sBTKREF9osmfvPbXJgfWewmGmaD5frSonlEFLBsv4aZNL3nft78dacswkYQg5g9vefuuoQ1egmXTt9aK0UQKhUbGeAm3Tlz9n2/8iWa7w1yEOApr9Ty2c1EFfCEdL12rIyUQKDYo25xEnvm0PE8PYibtdt73yl94046bUglxLlZ60ydElXgJdEPkVK4e39n14fNHv+TIvuflP/UDu77NBR8ZW1wIAiBQwhIvG6YsyCvWXzrbWLhn+pF6XA5F8eVSa48iD7QWKkAKAQ85NJcenssd/HPBwJ4z9nkNqPRYLGeIIhe8lITK3RCFNda35n72yh9860te70KIi+khUCVVLaSViKEcBQbBgkOQd930k3tmDm0cHH/bla9zPlhjeo8ngYiqISMIDM6T9wAZIhW8+9t+Yu/ZI7tP7xmKaw4ZwNRrhcqD1z2vsvfOqghFn/FFllnFe2Uhj59AFHhGi3HBHgpYY31n4ZVbXvHbN78tqFrmHt+QQohoun32w49+2jI7zT2cnnfMyoIPv+7Xfuemt0KUDBcSiKAQVl7M2n/52GcBgvSNEzXEGaRiSn946zu2xusa2mEypP28vi59Rqjk1fUKUkganimQL6LMMm1f3DcIhV5mvpfkLEo8yfisu7m+6UOv/uXEREvdqAolaBAAv3Hfh37sb37l9v13x2y99NpJAAYC6VBSq8Vll9NboS0g4sF4z0P/94fv+o9/9eTnyFAQ3/9OlrgrYfvghvfe8nNxChHq5ahJl4heCcQh7zIDi4ZO2pcwFxGsgnykmeaymVSWQpRUuLNKxCBRb5X/+LZf2Vwf9SEYWnpECMFY+94H/88HH/0YDQ++9dO//eWZfYk1QTyKzrB+Sz/ZnGtBUPUSrIk/euDzv/OVOwaHhn/+nt/78qknIxN5CaJQEKvGbLIQbtt6zW9c/5aFdJEpD5BpL+xTxMgQVFQJEB9Cs7si2jBXLrqYclDK5YeXPl31jStmQqfzrpf/u1s2vzQLwRjucStcCNaYzz718C9/7v2oJJHEDd/8kb/5LzPtOcs2n79HRWw0n3xUXChBIrZ7zzz1js++P47IcHKW2j/16ffMductGRXJJRJBI+Yg8gvXvunN2185n7ZtzzTP+ZHyoLYvpoOIC7qQIdc1F1dmFZCc7XIqiqABcOHpChCG2LvOS8eu+Lmr3ygCZu735opqbO1UY+Ytn35XN0qtRplKHFeemN//b+76b0GEe6J3qUIrz3NB2JhG1v23n/nd0+FMZBM4P2jLX1k88DOf+f0iudNvwOuZpO+87kdGkiEJjpZs2R51+WCEQWoWMr+YrohRWvDRYoZWgEpOKktYUa7+AZfdOnl9bIyHMz01KioMOAk/fte7n2o9ZU3VA0TqJcSVwb899Plf+tz7iUlEem2rlDfPac7yhHd8/n0PnNo7kNQlCEicyJrS0B0HP/tbD3zYGBaRXqaamMiL3z6y8arhyWbIwNyPdmnujXphhULD2ZZmYQXBghM+1QaxQpEJBeSDN5ZYlahqEuTaspjNoF6EmN9xz+//w9H7o2TYiyt0I+DEm2rtf/y/v/jQV++yxmQSiq5xIECdBMPmD77yiT95/FPDlYEQAkGFCURew3C1/q4HP/pX+3dHxmbqi9gpICCAjLGCgtSo14cOTxqgUFZ1U83zMUjPF6xcp00tEoiygCDI3FJrPCEAMPZTR74o0Bg21eDU+yCxsX/06F//3lduN/W6l0D9LgLKbS6iSvIzd7/n3qnHEhNlQbx6r84FiU1077E9v/rAB6vlCkKhQyiX21CosYn+9D3/88HZgzFHWQii3omP2Ty1MPPw6UNJlOQfrWcWQruuCG13NRydx3mu856Pw06wa41aIsNKQDnKCSq3XKyNjswf63TDqyavMWAQRcZ89LG73/oP/10S05MvRD1Zkh9htpm6Tx2872UbXjw5OE4gJo6M+cL04z/86f/alDQynAdhKHeWCHkbXkJxM6SfP/rwLRNXj1WGFBSx7fju2z773gfP7q+YkkJ64oygimZqAkhDONVp33tYZYXBok7gzXUZLoFIIVyK1DJpIZtFQVF039RDnzv2qIccmDv+7i/d8Vtf/OMsBqHwWvoWEFAE7VTVcLQYmnc8/plT3SazOdac/aM9f/eLn//AnDYrJhYVLPkvOVREQCAkJprtzn18/+6Oeu/d3VNf/fl7/uAfZx6uJ5XCDS3MXaKuou1zkegfnkkPnD7fnON5BmIJUMSXjfpXbxFVlC3VYgyUVKRfN0wgY+C7bYjklr9NKqoceglRWh4Bzv+tecqLoSGkbeI4jiuZ+sG4bNgGSK9BY7lbpT0lAGZ2wbXTLlsrPkSRrdvEF3cuko9GKcx3OQ0iwXS1+acPuRMLyiszmW25AREOnrVnR7PhmIWk46gSkWFd8qpVApmkRkU3uIpogaL2bIIl9HttN6SiahDZ6iCL1KKSGFYR0eLCZ1RB9kP7IFVRS/FgNSFRjYlUnfaTikqAEGnm4TyBiEiPzLsTC8jLnVdQGwJgQur1yTkLaOYQBK00f+dCoOSKWUMIXsQHDUKifVftWXwL6v8a4MV5D/WkHAKg/Z+ezSdZuhAICF5UVHxAAMmyQkBlhbYyAtQ766Tzlamiput8t37eTKsQIHx1Bk1BECih7TkNyqw9taiFA5QrLkIvvfdcThgtbZuE89Q0Ap3nhX3zv7iqiI6ADTqe0sBCIPLHGumTp/B1pbHPD6zch1dibXo8fIrZouOhJIvdfuyIei5Z0TaSb/35SolpWQwUS3EA1XO4cOlZmgvBnHN7tfFeqZmBjDphr9nuI6pP6xldSTaEQkVB4eFpPt0CABfUBWp0uajw1KXNEp1jGPqfAnGpokGfG+heQDCPRaoqiRAMSBupiGoIxME9cSY9cJrA/U+y0mAV4oIz0d0nDIl2HQlJK0XqiYzQ8slVz0/sqkogLiKuZJhzEmPiwq4icA669i74pxWQ9s0illaGrmOQhECN0L77QABAX2fB7tc/tFGZ9WzHlGLdPKhZIGs1cxxHak1RmpZPpHvucU9F9TGR+lR9SibS4NR12MaRsY2sbYgjY9OQtVw3NrbXuUr07OlnLeRjrl+JkYaw2GVmSbMSuPP3B9JDZ/kCxuNdQN5QhQC3+5g93gILuoGEZL5JPlCelcqLt587wl3gGNwlIzu+besNFPzW+vpXTtxAXhKY103cMBwNLnYb28rjt265zgR16kDMPdPsa5EiVSLRPOHq4Be7BhycZ0PpV0+2HjpORHIBqbILGgeqAATm+CLvXCtGCWpA4hwnieaB8f487mdPrhMzaZZ+767v+PNX/dJ8o/vOm97y/Tu/Y9fQxPfsuPEnr3j91aPbD80dv/31v/69225+yeiLPnHgfmPMMlOC+uTZ6w6DQA1ZOA3znUhJQrBB9Xiz+bE98Bdax3Whs1OJKHS8memaS9YG8QQGkaaO40gNL81Rew7eUYBt9NDxR79l41UT1ZEy2w/u+eQP7brlV+7+wHht1LDsHNw601547V/9wru/9ScfOPnEocUTibVL+ZIlf6BIqRgy1A1+sWOENASEYOZd86OP+GZ24VWCF5q+V1UidlPz+qlDFlZcqpmwg5xpchaYTD4rt7clfbY7QK0dqg7+8eN/9/dPPfjeb//5Tx66L2X/5Zm94+WRS4Y3znUb864dFDGzQFioP9KO+t6SamAiYrS9W2wbIXLBi48avnHnw26uc1GaqS9CyZGqgMnvP2vvgr1tu3eZinASyVyTa2WuxsKq8rQoKPXD4gplNanWODramV3XGrz/xN53fuHDn/nB30UmJo4/8OWP/acb3vyqiT99cm7qS6eeqEZJMdEoZ8Ge9wcmG0iaqe86C9bMCXxpAQt3POKmWz0n8kLXxatoIiJV3jbEr550JaIAqkRilGJD9ZLGeeFGUdinhQgrDG0V3LDu0sfPHLlsdOvxudmj7amdw9tv3fqy+048/NDpAzeN/avL1k3edeALszqfcCwgzqUhitQriDkNuthVr0wknYws0alO486vutNt0EUbD3vRwCKAmCBKoxW69UV+LEGWUamklmEElYgrido8orvUpqvFsFtW14GN4VNiG9lSZEzLdctRpWriput0QzYQ1wwb1dAfQ6pMBCIfQjujjmdlBNW0a2KrT8wt/PVjoZXhPOMKq0VZWOIsKtvoWyfC5WtC8CCicgQATFSNqRJJARmWzEeFYS6aS6AADSZVQyyqospETBRUVIvEBOXj7bxo12nHFZCnGYAocOf+I617j2jQiz75aAUKCwmspFBz6Vq6cYsMaPBKNkbEahQGlFiUYooNeJkL0+dQgInrcYWX75RyE54AVSFkQbuZZo5ApKyZqKQxWz/T7vz9vu7hObpIQmrlwULPLVblamyvW+9fvDZEgPcwFrFhhhIQMUVGI4uIYRhMuaGfl3ANxNWcLFiLihsNAhfgApyIKCtIAC8aAhvDjdR9aar9pSnnAuWlOisyI3vlFhVJMjNe4avHZOuwLxN5ATGsJSZlVQIYZEgNgZmYlWDY1OMKASKKPM0ligAoWBGg5IV8ABPY8GKWPXay88UpP99dGqu8YhtaWbhABiqAmpEyv3hdeNEQ6omyiAqUiBlMZAqzKVdczFwvV6k/ThmgvBhQVPMBuoaNgz/d6j426x456RfTnh8qutLbWdH7F81N6Cn6kuWJAUwO0vqq1BKNSFkh/VhcMdRgoFztNYT1qmYZLMRp0Ll296mFbP+Z8NR8yBO9PVdxpQvhV7FR6Ok8QonhtWUar+m6Cg0mqERSYhgCEzMPVmqsCCLihLpBG10505bppj+5mM22xMvyb7HKO1jd1Ru7jeXz2hOmkkVk2BoYMmQ0qDivqZeuVxeeSa9Y1RHU/wwWMTHl7aiEvJTvmYv7IVcmYgLxN/B9/z8wZrWc9l3xpQAAAB50RVh0aWNjOmNvcHlyaWdodABHb29nbGUgSW5jLiAyMDE2rAszOAAAABR0RVh0aWNjOmRlc2NyaXB0aW9uAHNSR0K6kHMHAAAAAElFTkSuQmCC" class="club-badge" alt="VV Monnickendam" onerror="this.style.display='none'">
            <span class="logo-text">SCORR</span>
            <button class="share-btn" onclick="shareApp()">üì§</button>
        </div>

        <!-- SCORE PANEL -->
        <div class="score-panel">
            <div class="teams-row">
                <div class="team-col">
                    <input type="text" class="team-name-input" id="homeTeamName" value="VV Monnickendam" placeholder="Thuisploeg">
                    <div class="score-number" id="homeScore">0</div>
                    <div class="score-btns">
                        <button class="score-btn minus" id="homeMinusBtn">‚àí</button>
                        <button class="score-btn plus" id="homePlusBtn">+</button>
                    </div>
                </div>
                <div class="score-separator">-</div>
                <div class="team-col">
                    <input type="text" class="team-name-input" id="awayTeamName" value="Tegenstander" placeholder="Uitploeg">
                    <div class="score-number" id="awayScore">0</div>
                    <div class="score-btns">
                        <button class="score-btn minus" id="awayMinusBtn">‚àí</button>
                        <button class="score-btn plus" id="awayPlusBtn">+</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- TIMER STRIP -->
        <div class="timer-strip">
            <div class="timer-meta" id="halfIndicator">1e Helft</div>
            <div class="timer-row">
                <div class="timer-display" id="timerDisplay">00:00</div>
                <div class="timer-controls-inline">
                    <button class="timer-btn-small play" id="startBtn">‚ñ∂</button>
                    <button class="timer-btn-small pause" id="pauseBtn">‚è∏</button>
                </div>
            </div>
            <div class="timer-sub-row">
                <div class="setting-inline">
                    <span>Helft:</span>
                    <button class="adj-btn" id="durationMinusBtn">‚àí</button>
                    <span class="val" id="durationDisplay">45</span>
                    <button class="adj-btn" id="durationPlusBtn">+</button>
                    <span>min</span>
                </div>
                <div class="setting-inline">
                    <span>Bless:</span>
                    <button class="adj-btn" id="injuryMinusBtn">‚àí</button>
                    <span class="val" id="injuryDisplay">0</span>
                    <button class="adj-btn" id="injuryPlusBtn">+</button>
                    <span>min</span>
                </div>
            </div>
            <div id="wakeLockStatus"></div>
        </div>

        <!-- NEXT HALF / END MATCH -->
        <div class="next-half-bar">
            <button class="next-half-btn" id="nextHalfBtn">‚è≠Ô∏è Volgende helft</button>
        </div>

        <!-- EVENTS TIMELINE -->
        <div class="events-area">
            <div id="eventsList">
                <div class="no-events">Nog geen gebeurtenissen</div>
            </div>
        </div>

        <!-- BOTTOM TOOLBAR -->
        <div class="bottom-toolbar">
            <button class="toolbar-btn yellow-card" id="yellowBtn" title="Gele kaart">
                üü®
            </button>
            <button class="toolbar-btn red-card" id="redBtn" title="Rode kaart">
                üü•
            </button>
            <button class="toolbar-btn" id="stopBtn" title="Timer reset">
                ‚èπ
                <span class="btn-label">STOP</span>
            </button>
            <button class="toolbar-btn download-btn" id="downloadBtn" title="Verslag">
                üìÑ
                <span class="btn-label">PDF</span>
            </button>
        </div>
    </div>

    <!-- EVENT MODAL -->
    <div id="eventModal" class="modal">
        <div class="modal-content">
            <h3 id="modalTitle">Gebeurtenis toevoegen</h3>

            <div id="teamButtonsContainer" class="team-buttons" style="display: none;">
                <button class="team-select-btn" id="homeTeamBtn" data-team="home">Thuisploeg</button>
                <button class="team-select-btn" id="awayTeamBtn" data-team="away">Uitploeg</button>
            </div>

            <div id="teamDropdownContainer">
                <select id="modalTeam">
                    <option value="home">Thuisploeg</option>
                    <option value="away">Uitploeg</option>
                </select>
            </div>

            <div class="number-grid-label">Rugnummer:</div>
            <div class="number-grid" id="numberGrid"></div>

            <div class="custom-number-container">
                <label for="customNumber">Anders:</label>
                <input type="number" id="customNumber" placeholder="Vul rugnr in" min="0" max="99">
            </div>

            <input type="text" id="modalPlayerName" class="player-name-input" placeholder="Naam speler (optioneel)">

            <div class="modal-buttons">
                <button class="btn-cancel" id="cancelBtn">Annuleren</button>
                <button class="btn-confirm" id="confirmBtn">Bevestigen</button>
            </div>
        </div>
    </div>

    <script>
        // ===== STATE =====
        console.log('üöÄ SCORR Scheidsrechter App loaded');

        window.addEventListener('error', function(e) {
            if (e.message === 'Script error.' || e.message === 'Script error') return;
            console.error('‚ùå Error:', e.message, 'line', e.lineno);
        });

        let timerStartTime = null;
        let timerPausedAt = null;
        let accumulatedSeconds = 0;
        let timerInterval = null;
        let isRunning = false;
        let currentHalf = 1;
        let homeScoreValue = 0;
        let awayScoreValue = 0;
        let events = [];
        let currentEventType = '';
        let currentGoalTeam = '';
        let selectedTeam = '';
        let selectedNumber = '';
        let injuryTime = 0;
        let halfDuration = 45;
        let wakeLock = null;

        // ===== LOCAL STORAGE =====
        function loadTimerState() {
            const saved = localStorage.getItem('scorr_vvm_timer_state');
            if (saved) {
                try {
                    const state = JSON.parse(saved);
                    timerStartTime = state.startTime;
                    timerPausedAt = state.pausedAt;
                    accumulatedSeconds = state.accumulated || 0;
                    isRunning = state.isRunning || false;
                    currentHalf = state.half || 1;
                    if (isRunning && timerStartTime) {
                        const now = Date.now();
                        const elapsed = Math.floor((now - timerStartTime) / 1000);
                        accumulatedSeconds = state.accumulated + elapsed;
                        timerStartTime = now;
                        startTimer();
                    }
                } catch (e) { console.error('Load error:', e); }
            }
        }

        function saveTimerState() {
            localStorage.setItem('scorr_vvm_timer_state', JSON.stringify({
                startTime: timerStartTime,
                pausedAt: timerPausedAt,
                accumulated: accumulatedSeconds,
                isRunning: isRunning,
                half: currentHalf
            }));
        }

        function getCurrentSeconds() {
            if (!timerStartTime) return accumulatedSeconds;
            if (isRunning) {
                return accumulatedSeconds + Math.floor((Date.now() - timerStartTime) / 1000);
            }
            return accumulatedSeconds;
        }

        // ===== WAKE LOCK =====
        async function requestWakeLock() {
            try {
                if ('wakeLock' in navigator) {
                    wakeLock = await navigator.wakeLock.request('screen');
                    const el = document.getElementById('wakeLockStatus');
                    if (el) el.textContent = 'üîí Scherm blijft aan';
                    wakeLock.addEventListener('release', () => {
                        if (isRunning) setTimeout(() => { if (isRunning) requestWakeLock(); }, 1000);
                    });
                }
            } catch (err) {
                const el = document.getElementById('wakeLockStatus');
                if (el) el.textContent = '‚è±Ô∏è Timer loopt op achtergrond';
            }
        }

        async function releaseWakeLock() {
            if (wakeLock) { try { await wakeLock.release(); wakeLock = null; } catch(e){} }
            const el = document.getElementById('wakeLockStatus');
            if (el) el.textContent = '';
        }

        document.addEventListener('visibilitychange', async () => {
            if (wakeLock && document.visibilityState === 'visible' && isRunning) await requestWakeLock();
        });

        // ===== ELEMENTS =====
        const timerDisplay = document.getElementById('timerDisplay');
        const halfIndicator = document.getElementById('halfIndicator');
        const injuryDisplay = document.getElementById('injuryDisplay');
        const homeScore = document.getElementById('homeScore');
        const awayScore = document.getElementById('awayScore');
        const eventsList = document.getElementById('eventsList');
        const eventModal = document.getElementById('eventModal');
        const modalTitle = document.getElementById('modalTitle');
        const durationDisplay = document.getElementById('durationDisplay');

        // ===== DISPLAY =====
        function updateDurationDisplay() { durationDisplay.textContent = halfDuration; }
        function updateInjuryTimeDisplay() { injuryDisplay.textContent = injuryTime; }

        function changeDuration(delta) {
            halfDuration = Math.max(10, Math.min(45, halfDuration + delta));
            updateDurationDisplay();
        }

        function changeInjuryTime(delta) {
            injuryTime = Math.max(0, Math.min(15, injuryTime + delta));
            updateInjuryTimeDisplay();
        }

        function formatTime(totalSeconds) {
            const mins = Math.floor(totalSeconds / 60);
            const secs = totalSeconds % 60;
            return `${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
        }

        function getCurrentMinute() {
            return Math.floor(getCurrentSeconds() / 60) + 1;
        }

        function updateDisplay() {
            timerDisplay.textContent = formatTime(getCurrentSeconds());
            halfIndicator.textContent = currentHalf === 1 ? '1e Helft' : '2e Helft';
        }

        // ===== TIMER =====
        let audioCtx = null;
        let audioInitialized = false;

        function initAudioContext() {
            if (!audioInitialized) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                audioInitialized = true;
            }
            if (audioCtx && audioCtx.state === 'suspended') audioCtx.resume();
        }

        async function startTimer() {
            if (!isRunning) {
                isRunning = true;
                timerStartTime = Date.now();
                initAudioContext();
                await requestWakeLock();
                timerInterval = setInterval(() => {
                    updateDisplay();
                    checkTimeExpired();
                    saveTimerState();
                }, 100);
                saveTimerState();
            }
        }

        let timeExpiredTriggered = false;

        function checkTimeExpired() {
            const currentSeconds = getCurrentSeconds();
            let targetSeconds;
            if (currentHalf === 1) {
                targetSeconds = (halfDuration + injuryTime) * 60;
            } else {
                targetSeconds = (2 * halfDuration + injuryTime) * 60;
            }
            if (currentSeconds >= targetSeconds && !timeExpiredTriggered) {
                timeExpiredTriggered = true;
                playWhistleAndVibrate();
            }
            if (currentSeconds < targetSeconds) timeExpiredTriggered = false;
        }

        function playWhistleAndVibrate() {
            initAudioContext();
            if ('vibrate' in navigator) {
                if (currentHalf === 1) navigator.vibrate([300, 200, 300, 200, 300]);
                else navigator.vibrate([900, 250, 300, 200, 300]);
            }
            playWhistleSound();
            showTimeExpiredNotification();
        }

        function playWhistleSound() {
            if (!audioCtx) return;
            function playBlast(startTime, duration) {
                const osc1 = audioCtx.createOscillator();
                const osc2 = audioCtx.createOscillator();
                const gainNode = audioCtx.createGain();
                const distortion = audioCtx.createWaveShaper();
                const curve = new Float32Array(256);
                for (let i = 0; i < 256; i++) {
                    const x = (i * 2) / 256 - 1;
                    curve[i] = (Math.PI + 200) * x / (Math.PI + 200 * Math.abs(x));
                }
                distortion.curve = curve;
                osc1.connect(distortion); osc2.connect(distortion);
                distortion.connect(gainNode); gainNode.connect(audioCtx.destination);
                osc1.type = 'sine'; osc2.type = 'sine';
                osc1.frequency.setValueAtTime(3100, startTime);
                osc1.frequency.linearRampToValueAtTime(3200, startTime + duration * 0.1);
                osc1.frequency.setValueAtTime(3200, startTime + duration * 0.9);
                osc1.frequency.linearRampToValueAtTime(3050, startTime + duration);
                osc2.frequency.setValueAtTime(3140, startTime);
                osc2.frequency.linearRampToValueAtTime(3250, startTime + duration * 0.1);
                osc2.frequency.setValueAtTime(3250, startTime + duration * 0.9);
                osc2.frequency.linearRampToValueAtTime(3090, startTime + duration);
                gainNode.gain.setValueAtTime(0, startTime);
                gainNode.gain.linearRampToValueAtTime(0.4, startTime + 0.02);
                gainNode.gain.setValueAtTime(0.35, startTime + duration - 0.08);
                gainNode.gain.linearRampToValueAtTime(0, startTime + duration);
                osc1.start(startTime); osc1.stop(startTime + duration);
                osc2.start(startTime); osc2.stop(startTime + duration);
            }
            const now = audioCtx.currentTime;
            if (currentHalf === 1) {
                playBlast(now, 0.35); playBlast(now + 0.55, 0.35); playBlast(now + 1.10, 0.35);
            } else {
                playBlast(now, 0.9); playBlast(now + 1.2, 0.35); playBlast(now + 1.75, 0.35);
            }
        }

        function showTimeExpiredNotification() {
            timerDisplay.style.animation = 'flash 0.6s ease-in-out 4';
            const isHalftime = currentHalf === 1;
            const title = isHalftime ? 'üì£ RUSTSIGNAAL!' : 'üèÜ EINDSIGNAAL!';
            const message = isHalftime
                ? `1e helft afgelopen.\n(${halfDuration}+${injuryTime} min)\n\nDruk op Volgende Helft.`
                : `Wedstrijd afgelopen!\n(${halfDuration}+${injuryTime} min)`;
            setTimeout(() => {
                timerDisplay.style.animation = '';
                alert(`${title}\n\n${message}`);
                pauseTimer();
            }, 2000);
        }

        async function pauseTimer() {
            if (isRunning) {
                isRunning = false;
                accumulatedSeconds += Math.floor((Date.now() - timerStartTime) / 1000);
                timerPausedAt = Date.now();
                timerStartTime = null;
                if (timerInterval) { clearInterval(timerInterval); timerInterval = null; }
                await releaseWakeLock();
                saveTimerState();
                updateDisplay();
            }
        }

        async function stopTimer() {
            if (!confirm('‚ö†Ô∏è Weet je zeker dat je de timer wilt resetten?\n\nDe timer wordt op 00:00 gezet.')) return;
            await pauseTimer();
            accumulatedSeconds = 0;
            timerStartTime = null;
            timerPausedAt = null;
            saveTimerState();
            updateDisplay();
        }

        function nextHalf() {
            pauseTimer();
            if (currentHalf === 1) {
                currentHalf = 2;
                accumulatedSeconds = halfDuration * 60;
                timerStartTime = null;
                timerPausedAt = null;
                injuryTime = 0;
                timeExpiredTriggered = false;
                updateInjuryTimeDisplay();
                addEvent('half', null, null, 'Rust');
                saveTimerState();
            } else {
                if (confirm('Wil je de wedstrijd afsluiten?')) {
                    addEvent('end', null, null, 'Einde Wedstrijd');
                    currentHalf = 1;
                    accumulatedSeconds = 0;
                    timerStartTime = null;
                    timerPausedAt = null;
                    timeExpiredTriggered = false;
                    saveTimerState();
                }
            }
            updateDisplay();
        }

        // ===== SCORE =====
        function changeScore(team, delta) {
    if (team === 'home') {
        homeScoreValue = Math.max(0, homeScoreValue + delta);
        homeScore.textContent = homeScoreValue;
    } else if (team === 'away') {
        awayScoreValue = Math.max(0, awayScoreValue + delta);
        awayScore.textContent = awayScoreValue;
    }
    // Firebase sync
    const wedstrijdId = localStorage.getItem('wedstrijdId');
    if (wedstrijdId && window._firebaseDb) {
        import("https://www.gstatic.com/firebasejs/12.9.0/firebase-database.js").then(({ ref, update }) => {
            update(ref(window._firebaseDb, `wedstrijden/${wedstrijdId}`), {
                thuisscore: homeScoreValue,
                uitscore: awayScoreValue
            });
        });
    }
}

        // ===== EVENTS =====
        function showEventModal(eventType, team = null) {
            currentEventType = eventType;
            if (team) selectedTeam = team;
            else if (eventType === 'goal' && currentGoalTeam) selectedTeam = currentGoalTeam;

            const titles = { 'goal': '‚öΩ Doelpunt', 'yellow': 'üü® Gele Kaart', 'red': 'üü• Rode Kaart' };
            modalTitle.textContent = titles[eventType];

            const teamBtnsC = document.getElementById('teamButtonsContainer');
            if (eventType === 'goal' && (team || currentGoalTeam)) {
                teamBtnsC.style.display = 'none';
            } else {
                selectedTeam = '';
                teamBtnsC.style.display = 'flex';
                document.getElementById('homeTeamBtn').classList.remove('selected');
                document.getElementById('awayTeamBtn').classList.remove('selected');
            }

            // Update team button labels
            document.getElementById('homeTeamBtn').textContent = document.getElementById('homeTeamName').value || 'Thuisploeg';
            document.getElementById('awayTeamBtn').textContent = document.getElementById('awayTeamName').value || 'Uitploeg';

            const numberGrid = document.getElementById('numberGrid');
            numberGrid.innerHTML = '';
            for (let i = 0; i <= 16; i++) {
                const btn = document.createElement('button');
                btn.className = 'number-btn';
                btn.textContent = i;
                btn.type = 'button';
                btn.addEventListener('click', () => selectNumber(i));
                numberGrid.appendChild(btn);
            }
            selectedNumber = '';
            document.getElementById('customNumber').value = '';
            document.getElementById('modalPlayerName').value = '';
            eventModal.style.display = 'flex';
        }

        function selectTeam(team) {
            selectedTeam = team;
            document.getElementById('homeTeamBtn').classList.toggle('selected', team === 'home');
            document.getElementById('awayTeamBtn').classList.toggle('selected', team === 'away');
        }

        function selectNumber(number) {
            selectedNumber = number;
            document.getElementById('customNumber').value = '';
            document.querySelectorAll('.number-btn').forEach(btn => {
                btn.classList.toggle('selected', parseInt(btn.textContent) === number);
            });
        }

        function closeModal() {
            eventModal.style.display = 'none';
            selectedTeam = '';
            selectedNumber = '';
        }

        function confirmEvent() {
            const team = currentEventType === 'goal' ? currentGoalTeam : selectedTeam;
            const customNum = document.getElementById('customNumber').value;
            const playerNumber = customNum !== '' ? customNum : selectedNumber;
            const playerName = document.getElementById('modalPlayerName').value;

            if (!team) { alert('Selecteer eerst een team'); return; }
            if (playerNumber === '' || playerNumber === undefined) { alert('Selecteer een rugnummer'); return; }

            if (currentEventType === 'goal') changeScore(team, 1);
            addEvent(currentEventType, team, playerNumber, playerName);
            closeModal();
        }

        function removeLastGoal(team) {
            const idx = events.findIndex(e => e.type === 'goal' && e.team === team);
            if (idx === -1) { alert('Geen doelpunt gevonden'); return; }
            deleteEvent(idx);
        }

        function deleteEvent(index) {
            const event = events[index];
            if (!confirm('Weet je zeker dat je dit wilt verwijderen?')) return;
            if (event.type === 'goal' && event.team) changeScore(event.team, -1);
            events.splice(index, 1);
            renderEvents();
        }
        window.deleteEvent = deleteEvent;

        function addEvent(type, team, playerNumber, playerName) {
            const minute = getCurrentMinute();
            const teamName = team === 'home'
                ? document.getElementById('homeTeamName').value
                : team === 'away'
                    ? document.getElementById('awayTeamName').value
                    : '';

            let description = '';
            if (type === 'goal') {
                description = `‚öΩ DOELPUNT! ${teamName} - #${playerNumber}`;
                if (playerName) description += ` (${playerName})`;
            } else if (type === 'yellow') {
                description = `üü® Gele kaart ${teamName} - #${playerNumber}`;
                if (playerName) description += ` (${playerName})`;
            } else if (type === 'red') {
                description = `üü• Rode kaart ${teamName} - #${playerNumber}`;
                if (playerName) description += ` (${playerName})`;
            } else if (type === 'half') {
                description = playerName;
            } else if (type === 'end') {
                description = `${playerName} - Stand: ${homeScoreValue} - ${awayScoreValue}`;
            }

            events.unshift({ minute, type, description, team });
            renderEvents();
        }

        function renderEvents() {
            if (events.length === 0) {
                eventsList.innerHTML = '<div class="no-events">Nog geen gebeurtenissen</div>';
                return;
            }
            let html = '';
            events.forEach((event, index) => {
                const canDelete = ['goal', 'yellow', 'red'].includes(event.type);
                html += `
                    <div class="event-item event-${event.type}">
                        <div class="event-minute">${event.minute}'</div>
                        <div class="event-text">${event.description}</div>
                        ${canDelete ? `<button class="event-delete" onclick="window.deleteEvent(${index})">‚úï</button>` : ''}
                    </div>`;
            });
            eventsList.innerHTML = html;
        }

        // ===== MATCH REPORT (PDF) =====
        function downloadMatchReport() {
            const homeTeam = document.getElementById('homeTeamName').value || 'Thuisploeg';
            const awayTeam = document.getElementById('awayTeamName').value || 'Uitploeg';
            const currentDate = new Date().toLocaleDateString('nl-NL', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
            const currentTime = new Date().toLocaleTimeString('nl-NL', { hour: '2-digit', minute: '2-digit' });

            let eventsHTML = '';
            if (events.length === 0) {
                eventsHTML = '<p style="text-align:center;color:#999;padding:20px;">Geen gebeurtenissen</p>';
            } else {
                events.slice().forEach(event => {
                    let icon = '', rowClass = '';
                    if (event.type === 'goal')   { icon = '‚öΩ'; rowClass = 'row-goal'; }
                    if (event.type === 'yellow') { icon = 'üü®'; rowClass = 'row-yellow'; }
                    if (event.type === 'red')    { icon = 'üü•'; rowClass = 'row-red'; }
                    if (event.type === 'half')   { icon = '‚è∏'; rowClass = 'row-half'; }
                    if (event.type === 'end')    { icon = 'üèÅ'; rowClass = 'row-end'; }
                    eventsHTML += `<tr class="${rowClass}"><td style="width:50px;font-weight:700;">${event.minute}'</td><td style="width:35px;">${icon}</td><td>${event.description}</td></tr>`;
                });
            }

            const reportHTML = `<!DOCTYPE html><html lang="nl"><head><meta charset="UTF-8"><title>Verslag ${homeTeam} vs ${awayTeam}</title>
<style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:sans-serif;background:#f5f5f5}.page{max-width:800px;margin:0 auto;background:white;padding:0}
.header{background:#0A0E27;color:white;padding:30px;text-align:center}.header h1{font-size:28px;margin-bottom:8px}.score-big{font-size:52px;font-weight:900;color:#00FF88;margin:10px 0}
.meta{font-size:12px;color:#888;margin-top:10px}.body{padding:25px}table{width:100%;border-collapse:collapse}th{background:#0A0E27;color:white;padding:10px;text-align:left;font-size:12px;text-transform:uppercase}
td{padding:10px;border-bottom:1px solid #eee;font-size:14px}.row-goal{border-left:4px solid #00FF88}.row-yellow{border-left:4px solid #FFB800}.row-red{border-left:4px solid #FF3D71}
.row-half{background:#f5f5f5;border-left:4px solid #999}.row-end{background:#0A0E27;border-left:4px solid #00FF88}.row-end td{color:#00FF88;font-weight:700}
.footer{text-align:center;padding:20px;color:#999;font-size:11px;border-top:2px solid #00FF88}
</style></head><body><div class="page">
<div class="header"><h1>${homeTeam} vs ${awayTeam}</h1><div class="score-big">${homeScoreValue} - ${awayScoreValue}</div><div class="meta">${currentDate} | ${currentTime} | Speelduur: ${halfDuration} min per helft</div></div>
<div class="body"><h3 style="margin-bottom:12px;font-size:16px;">Wedstrijdverloop</h3>
<table><thead><tr><th>Min</th><th></th><th>Gebeurtenis</th></tr></thead><tbody>${eventsHTML}</tbody></table></div>
<div class="footer">SCORR ‚Äî VV Monnickendam Scheidsrechter App | ${currentDate} ${currentTime}</div></div>
<div style="text-align:center;padding:20px;background:#eee"><button onclick="window.print()" style="background:#0A0E27;color:#00FF88;border:none;padding:14px 40px;font-size:16px;font-weight:600;border-radius:8px;cursor:pointer">üñ®Ô∏è OPSLAAN ALS PDF</button></div>
</body></html>`;

            const printWindow = window.open('', '_blank');
            if (printWindow) {
                printWindow.document.write(reportHTML);
                printWindow.document.close();
                if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
                    setTimeout(() => alert('üì± Verslag geopend!\n\n1. Klik Deel-icoon (‚ñ°‚Üë)\n2. Kies "Print"\n3. Bewaar als PDF'), 500);
                }
            } else {
                alert('‚ùå Pop-up geblokkeerd! Sta pop-ups toe.');
            }
        }

        // ===== SHARE =====
        async function shareApp() {
            const inIframe = window.self !== window.top;
            if (inIframe) {
                prompt('üì§ Kopieer link:', window.location.href);
                return;
            }
            const shareData = { title: 'SCORR Scheidsrechter App', text: 'Live scores bijhouden!', url: window.location.href };
            try {
                if (navigator.share && navigator.canShare && navigator.canShare(shareData)) {
                    await navigator.share(shareData);
                } else if (navigator.clipboard) {
                    await navigator.clipboard.writeText(window.location.href);
                    alert('üìã Link gekopieerd!');
                } else {
                    prompt('Kopieer link:', window.location.href);
                }
            } catch (err) { prompt('Kopieer link:', window.location.href); }
        }

        // ===== EVENT LISTENERS =====
        document.getElementById('startBtn').addEventListener('click', startTimer);
        document.getElementById('pauseBtn').addEventListener('click', pauseTimer);
        document.getElementById('stopBtn').addEventListener('click', stopTimer);
        document.getElementById('durationPlusBtn').addEventListener('click', () => changeDuration(5));
        document.getElementById('durationMinusBtn').addEventListener('click', () => changeDuration(-5));
        document.getElementById('injuryPlusBtn').addEventListener('click', () => changeInjuryTime(1));
        document.getElementById('injuryMinusBtn').addEventListener('click', () => changeInjuryTime(-1));

        document.getElementById('homePlusBtn').addEventListener('click', () => {
            currentGoalTeam = 'home';
            showEventModal('goal');
        });
        document.getElementById('homeMinusBtn').addEventListener('click', () => removeLastGoal('home'));
        document.getElementById('awayPlusBtn').addEventListener('click', () => {
            currentGoalTeam = 'away';
            showEventModal('goal');
        });
        document.getElementById('awayMinusBtn').addEventListener('click', () => removeLastGoal('away'));

        document.getElementById('yellowBtn').addEventListener('click', () => showEventModal('yellow'));
        document.getElementById('redBtn').addEventListener('click', () => showEventModal('red'));
        document.getElementById('nextHalfBtn').addEventListener('click', nextHalf);
        document.getElementById('cancelBtn').addEventListener('click', closeModal);
        document.getElementById('confirmBtn').addEventListener('click', confirmEvent);
        document.getElementById('homeTeamBtn').addEventListener('click', () => selectTeam('home'));
        document.getElementById('awayTeamBtn').addEventListener('click', () => selectTeam('away'));
        document.getElementById('downloadBtn').addEventListener('click', downloadMatchReport);

        document.body.addEventListener('input', function(e) {
            if (e.target.id === 'customNumber' && e.target.value) {
                document.querySelectorAll('.number-btn').forEach(btn => btn.classList.remove('selected'));
                selectedNumber = '';
            }
        });

        // ===== INIT =====
        loadTimerState();
        updateDisplay();
        updateInjuryTimeDisplay();
        updateDurationDisplay();

        console.log('‚úÖ SCORR v2 ‚Äî compact layout geladen');
    </script>
<!-- 
  ================================================
  SCORR - Wedstrijd Popup v3 voor VV Monnickendam
  INSTRUCTIE: Vervang de vorige popup code en 
  plak deze net voor </body> in je HTML
  ================================================
-->

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
  import { getDatabase, ref, set, get } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-database.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAputZcr7XyKRQL4-566a8gpS5R6SEL79U",
    authDomain: "scorr-c604a.firebaseapp.com",
    databaseURL: "https://scorr-c604a-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "scorr-c604a",
    storageBucket: "scorr-c604a.firebasestorage.app",
    messagingSenderId: "413840042688",
    appId: "1:413840042688:web:3183c36fd20f27ac925b25"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);
  const auth = getAuth(app);

  const teamMapping = {
    "team1@vvmonnickendam.nl": "VV Monnickendam O14-1",
    "team2@vvmonnickendam.nl": "VV Monnickendam O14-2",
    "team3@vvmonnickendam.nl": "VV Monnickendam O16-1",
    "team4@vvmonnickendam.nl": "VV Monnickendam O18-1"
  };

  let huidigWedstrijdId = null;

  window.addEventListener('DOMContentLoaded', () => {
    onAuthStateChanged(auth, (user) => {
      if (user) {
        const teamNaam = teamMapping[user.email] || "Onbekend Team";
        checkBestaandeWedstrijd(teamNaam, user);
      } else {
        window.location.href = '/frontend/auth/login.html';
      }
    });
  });

  async function checkBestaandeWedstrijd(teamNaam, user) {
    const snapshot = await get(ref(db, 'wedstrijden'));

    let gevondenWedstrijd = null;
    let gevondenId = null;

    if (snapshot.exists()) {
      snapshot.forEach((child) => {
        const data = child.val();
        if (data.thuisteam === teamNaam && data.status === 'gepland') {
          gevondenWedstrijd = data;
          gevondenId = child.key;
        }
      });
    }

    if (gevondenWedstrijd) {
      huidigWedstrijdId = gevondenId;
      localStorage.setItem('wedstrijdId', gevondenId);
      localStorage.setItem('thuisteam', gevondenWedstrijd.thuisteam);
      localStorage.setItem('uitteam', gevondenWedstrijd.uitteam);
      toonBanner(gevondenWedstrijd, teamNaam, user);
    } else {
      toonPopup(teamNaam, user, null);
    }
  }

  function toonBanner(wedstrijd, teamNaam, user) {
    document.getElementById('scorr-banner').style.display = 'flex';
    document.getElementById('banner-team').textContent = wedstrijd.thuisteam;
    document.getElementById('banner-tegenstander').textContent = wedstrijd.uitteam;
    document.getElementById('banner-datum').textContent = wedstrijd.datum;
    document.getElementById('banner-tijdstip').textContent = wedstrijd.tijdstip;
    document.getElementById('banner-klasse').textContent = wedstrijd.klasse;

    document.getElementById('banner-wijzig-btn').addEventListener('click', () => {
      document.getElementById('scorr-banner').style.display = 'none';
      toonPopup(teamNaam, user, wedstrijd);
    });
  }

  function toonPopup(teamNaam, user, bestaandeData) {
    const vandaag = new Date().toISOString().split('T')[0];
    const huidigTijdstip = new Date().toTimeString().slice(0,5);

    document.getElementById('scorr-popup-overlay').style.display = 'flex';
    document.getElementById('popup-team-naam').textContent = teamNaam;
    document.getElementById('popup-tegenstander').value = bestaandeData ? bestaandeData.uitteam : '';
    document.getElementById('popup-klasse').value = bestaandeData ? bestaandeData.klasse : '';
    document.getElementById('popup-datum').value = bestaandeData ? bestaandeData.datum : vandaag;
    document.getElementById('popup-tijdstip').value = bestaandeData ? bestaandeData.tijdstip : huidigTijdstip;
    document.getElementById('popup-subtitel').textContent = bestaandeData ? 'Wedstrijd wijzigen' : 'Wedstrijd instellen';

    document.getElementById('popup-start-btn').onclick = () => {
      const tegenstander = document.getElementById('popup-tegenstander').value.trim();
      const klasse = document.getElementById('popup-klasse').value.trim();
      const datum = document.getElementById('popup-datum').value;
      const tijdstip = document.getElementById('popup-tijdstip').value;

      if (!tegenstander || !klasse) {
        document.getElementById('popup-error').style.display = 'block';
        return;
      }

      const wedstrijdId = huidigWedstrijdId || `${user.uid}_${datum}_${tijdstip.replace(':','')}`;

      set(ref(db, `wedstrijden/${wedstrijdId}`), {
        thuisteam: teamNaam,
        uitteam: tegenstander,
        klasse: klasse,
        datum: datum,
        tijdstip: tijdstip,
        thuisscore: 0,
        uitscore: 0,
        status: 'gepland',
        club: 'vv-monnickendam'
      });

      localStorage.setItem('wedstrijdId', wedstrijdId);
      localStorage.setItem('thuisteam', teamNaam);
      localStorage.setItem('uitteam', tegenstander);

      document.getElementById('scorr-popup-overlay').style.display = 'none';
    };
  }
</script>

<!-- Banner: wedstrijd al gepland -->
<div id="scorr-banner" style="display:none; position:fixed; top:0; left:0; right:0; z-index:9998; background:#1E2749; border-bottom:2px solid rgba(0,255,136,0.4); padding:14px 20px; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap; font-family:'Lexend',sans-serif;">
  <div style="display:flex; align-items:center; gap:12px; flex-wrap:wrap;">
    <span style="font-size:11px; letter-spacing:2px; text-transform:uppercase; color:#00FF88; font-weight:600;">‚úì Wedstrijd geladen</span>
    <span id="banner-team" style="font-size:14px; font-weight:700; color:#F0F4FF;"></span>
    <span style="color:rgba(240,244,255,0.4)">vs</span>
    <span id="banner-tegenstander" style="font-size:14px; font-weight:700; color:#F0F4FF;"></span>
    <span style="font-size:12px; color:rgba(240,244,255,0.5);">¬∑</span>
    <span id="banner-klasse" style="font-size:12px; color:rgba(240,244,255,0.5);"></span>
    <span style="font-size:12px; color:rgba(240,244,255,0.5);">¬∑</span>
    <span id="banner-datum" style="font-size:12px; color:rgba(240,244,255,0.5);"></span>
    <span id="banner-tijdstip" style="font-size:12px; color:rgba(240,244,255,0.5);"></span>
  </div>
  <button id="banner-wijzig-btn" style="background:transparent; border:1px solid rgba(255,214,0,0.4); color:#FFD600; border-radius:6px; padding:6px 16px; font-size:12px; font-weight:600; font-family:'Lexend',sans-serif; cursor:pointer; white-space:nowrap;">
    ‚úé Wijzigen
  </button>
</div>

<!-- Popup HTML -->
<div id="scorr-popup-overlay" style="display:none; position:fixed; inset:0; background:rgba(10,14,39,0.95); z-index:9999; align-items:center; justify-content:center; padding:20px;">
  <div style="background:#1E2749; border:1px solid rgba(0,255,136,0.3); border-radius:16px; padding:32px; width:100%; max-width:420px; font-family:'Lexend',sans-serif;">
    
    <div style="text-align:center; margin-bottom:28px;">
      <div style="font-size:28px; font-weight:900; color:#00FF88; letter-spacing:-1px;">SCORR</div>
      <div id="popup-subtitel" style="font-size:12px; color:rgba(240,244,255,0.5); letter-spacing:3px; text-transform:uppercase; margin-top:4px;">Wedstrijd instellen</div>
    </div>

    <div style="margin-bottom:16px;">
      <label style="font-size:11px; letter-spacing:2px; text-transform:uppercase; color:#00FF88; font-weight:600; display:block; margin-bottom:6px;">Jouw team</label>
      <div id="popup-team-naam" style="background:rgba(0,255,136,0.08); border:1px solid rgba(0,255,136,0.2); border-radius:8px; padding:12px 16px; font-size:15px; font-weight:600; color:#F0F4FF;"></div>
    </div>

    <div style="margin-bottom:16px;">
      <label style="font-size:11px; letter-spacing:2px; text-transform:uppercase; color:rgba(240,244,255,0.6); font-weight:600; display:block; margin-bottom:6px;">Tegenstander *</label>
      <input id="popup-tegenstander" type="text" placeholder="bijv. Purmerend O14-3" style="width:100%; background:rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.15); border-radius:8px; padding:12px 16px; font-size:15px; color:#F0F4FF; font-family:'Lexend',sans-serif; outline:none;" />
    </div>

    <div style="margin-bottom:16px;">
      <label style="font-size:11px; letter-spacing:2px; text-transform:uppercase; color:rgba(240,244,255,0.6); font-weight:600; display:block; margin-bottom:6px;">Klasse *</label>
      <input id="popup-klasse" type="text" placeholder="bijv. 4e klasse district" style="width:100%; background:rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.15); border-radius:8px; padding:12px 16px; font-size:15px; color:#F0F4FF; font-family:'Lexend',sans-serif; outline:none;" />
    </div>

    <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:24px;">
      <div>
        <label style="font-size:11px; letter-spacing:2px; text-transform:uppercase; color:rgba(240,244,255,0.6); font-weight:600; display:block; margin-bottom:6px;">Datum</label>
        <input id="popup-datum" type="date" style="width:100%; background:rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.15); border-radius:8px; padding:12px 16px; font-size:14px; color:#F0F4FF; font-family:'Lexend',sans-serif; outline:none;" />
      </div>
      <div>
        <label style="font-size:11px; letter-spacing:2px; text-transform:uppercase; color:rgba(240,244,255,0.6); font-weight:600; display:block; margin-bottom:6px;">Tijdstip</label>
        <input id="popup-tijdstip" type="time" style="width:100%; background:rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.15); border-radius:8px; padding:12px 16px; font-size:14px; color:#F0F4FF; font-family:'Lexend',sans-serif; outline:none;" />
      </div>
    </div>

    <div id="popup-error" style="display:none; background:rgba(255,59,92,0.1); border:1px solid rgba(255,59,92,0.3); border-radius:8px; padding:10px 16px; font-size:13px; color:#FF3B5C; margin-bottom:16px;">
      Vul tegenstander en klasse in om te starten.
    </div>

    <button id="popup-start-btn" style="width:100%; background:#00FF88; color:#0A0E27; border:none; border-radius:8px; padding:16px; font-size:16px; font-weight:700; font-family:'Lexend',sans-serif; cursor:pointer; letter-spacing:1px;">
      ‚ñ∂ START WEDSTRIJD
    </button>

  </div>
</div>
</body>
</html>